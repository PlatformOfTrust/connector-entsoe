<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 3.1.2 (Python 3.8.5 on darwin)" generated="20200817 19:03:24.094" rpa="false">
<suite id="s1" name="Connector Tests" source="/Users/konstantinkomovits/PoT/connector-entsoe/robottests/connector_tests.robot">
<test id="s1-t1" name="fetch, 200">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.681" level="INFO">${body} = {'timestamp': '2018-11-01T12:00:00+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.680" endtime="20200817 19:03:24.681"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200817 19:03:24.681" level="INFO">${now} = 2020-08-17T16:03:24+00:00</msg>
<status status="PASS" starttime="20200817 19:03:24.681" endtime="20200817 19:03:24.681"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.681" endtime="20200817 19:03:24.681"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.682" endtime="20200817 19:03:24.682"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200817 19:03:24.682" level="INFO">${json_string} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.682" endtime="20200817 19:03:24.682"></status>
</kw>
<msg timestamp="20200817 19:03:24.682" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.680" endtime="20200817 19:03:24.683"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200817 19:03:24.683" level="INFO">oFJpDPNtoPRAfee/5qlmRpOshRiGTGYy9uFClBVzQ40=</msg>
<msg timestamp="20200817 19:03:24.683" level="INFO">${signature} = oFJpDPNtoPRAfee/5qlmRpOshRiGTGYy9uFClBVzQ40=</msg>
<status status="PASS" starttime="20200817 19:03:24.683" endtime="20200817 19:03:24.683"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.683" endtime="20200817 19:03:24.684"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>/translator/v1/fetch</arg>
<arg>${body}</arg>
</arguments>
<msg timestamp="20200817 19:03:24.748" level="FAIL">KeyError: 'content-type'</msg>
<status status="FAIL" starttime="20200817 19:03:24.684" endtime="20200817 19:03:24.748"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.683" endtime="20200817 19:03:24.748"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.679" endtime="20200817 19:03:24.749" critical="yes">KeyError: 'content-type'</status>
</test>
<test id="s1-t2" name="fetch, 422, Missing data for parameters required field">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.750" level="INFO">${body} = {'timestamp': '2018-11-01T12:00:00+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.750" endtime="20200817 19:03:24.750"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200817 19:03:24.750" level="INFO">${now} = 2020-08-17T16:03:24+00:00</msg>
<status status="PASS" starttime="20200817 19:03:24.750" endtime="20200817 19:03:24.750"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.750" endtime="20200817 19:03:24.750"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.751" endtime="20200817 19:03:24.751"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200817 19:03:24.751" level="INFO">${json_string} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.751" endtime="20200817 19:03:24.751"></status>
</kw>
<msg timestamp="20200817 19:03:24.751" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.749" endtime="20200817 19:03:24.751"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.loads('''${body}''')</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.752" level="INFO">${body} = {'timestamp': '2020-08-17T16:03:24+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.751" endtime="20200817 19:03:24.752"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body}</arg>
<arg>parameters</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.752" endtime="20200817 19:03:24.752"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200817 19:03:24.753" level="INFO">o01oHvXlpLPeqU66y5C3QgaO9A8INALFrS1PBVjEUzk=</msg>
<msg timestamp="20200817 19:03:24.753" level="INFO">${signature} = o01oHvXlpLPeqU66y5C3QgaO9A8INALFrS1PBVjEUzk=</msg>
<status status="PASS" starttime="20200817 19:03:24.753" endtime="20200817 19:03:24.753"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.753" endtime="20200817 19:03:24.753"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>/translator/v1/fetch</arg>
<arg>${body}</arg>
</arguments>
<msg timestamp="20200817 19:03:24.760" level="FAIL">KeyError: 'content-type'</msg>
<status status="FAIL" starttime="20200817 19:03:24.753" endtime="20200817 19:03:24.760"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.752" endtime="20200817 19:03:24.760"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.749" endtime="20200817 19:03:24.760" critical="yes">KeyError: 'content-type'</status>
</test>
<test id="s1-t3" name="fetch, 422, missing period field in parameters">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.762" level="INFO">${body} = {'timestamp': '2018-11-01T12:00:00+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.762" endtime="20200817 19:03:24.762"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200817 19:03:24.762" level="INFO">${now} = 2020-08-17T16:03:24+00:00</msg>
<status status="PASS" starttime="20200817 19:03:24.762" endtime="20200817 19:03:24.762"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.762" endtime="20200817 19:03:24.762"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.763" endtime="20200817 19:03:24.763"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200817 19:03:24.763" level="INFO">${json_string} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.763" endtime="20200817 19:03:24.763"></status>
</kw>
<msg timestamp="20200817 19:03:24.763" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.761" endtime="20200817 19:03:24.763"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.loads('''${body}''')</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.764" level="INFO">${body} = {'timestamp': '2020-08-17T16:03:24+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.764" endtime="20200817 19:03:24.764"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>period</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.764" endtime="20200817 19:03:24.764"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200817 19:03:24.765" level="INFO">l3B2O8n47GDW7jXpwgmMpZqNlDdfgvXEzZFnrZb/10Y=</msg>
<msg timestamp="20200817 19:03:24.765" level="INFO">${signature} = l3B2O8n47GDW7jXpwgmMpZqNlDdfgvXEzZFnrZb/10Y=</msg>
<status status="PASS" starttime="20200817 19:03:24.765" endtime="20200817 19:03:24.765"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.765" endtime="20200817 19:03:24.765"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>/translator/v1/fetch</arg>
<arg>${body}</arg>
</arguments>
<msg timestamp="20200817 19:03:24.772" level="FAIL">KeyError: 'content-type'</msg>
<status status="FAIL" starttime="20200817 19:03:24.766" endtime="20200817 19:03:24.772"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.764" endtime="20200817 19:03:24.772"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.761" endtime="20200817 19:03:24.772" critical="yes">KeyError: 'content-type'</status>
</test>
<test id="s1-t4" name="fetch, 422, missing targetObject field in parameters">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.774" level="INFO">${body} = {'timestamp': '2018-11-01T12:00:00+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.773" endtime="20200817 19:03:24.774"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200817 19:03:24.774" level="INFO">${now} = 2020-08-17T16:03:24+00:00</msg>
<status status="PASS" starttime="20200817 19:03:24.774" endtime="20200817 19:03:24.774"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.774" endtime="20200817 19:03:24.774"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.774" endtime="20200817 19:03:24.774"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200817 19:03:24.775" level="INFO">${json_string} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.775" endtime="20200817 19:03:24.775"></status>
</kw>
<msg timestamp="20200817 19:03:24.775" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.773" endtime="20200817 19:03:24.775"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.loads('''${body}''')</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.775" level="INFO">${body} = {'timestamp': '2020-08-17T16:03:24+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.775" endtime="20200817 19:03:24.775"></status>
</kw>
<kw name="Pop From Dictionary" library="Collections">
<doc>Pops the given ``key`` from the ``dictionary`` and returns its value.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>targetObject</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.776" endtime="20200817 19:03:24.776"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200817 19:03:24.776" level="INFO">MLHkgSg8gyIjRbCEwUoRIdY1iOVHYyArY/0XYzCL1tg=</msg>
<msg timestamp="20200817 19:03:24.777" level="INFO">${signature} = MLHkgSg8gyIjRbCEwUoRIdY1iOVHYyArY/0XYzCL1tg=</msg>
<status status="PASS" starttime="20200817 19:03:24.776" endtime="20200817 19:03:24.777"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.777" endtime="20200817 19:03:24.777"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>/translator/v1/fetch</arg>
<arg>${body}</arg>
</arguments>
<msg timestamp="20200817 19:03:24.783" level="FAIL">KeyError: 'content-type'</msg>
<status status="FAIL" starttime="20200817 19:03:24.777" endtime="20200817 19:03:24.783"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.776" endtime="20200817 19:03:24.783"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.772" endtime="20200817 19:03:24.783" critical="yes">KeyError: 'content-type'</status>
</test>
<test id="s1-t5" name="fetch, 200, period's first time parameter is bigger than second">
<kw name="Get Body">
<assign>
<var>${body}</var>
</assign>
<kw name="Copy Dictionary" library="Collections">
<doc>Returns a copy of the given dictionary.</doc>
<arguments>
<arg>${BROKER_BODY}</arg>
<arg>deepcopy=True</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.784" level="INFO">${body} = {'timestamp': '2018-11-01T12:00:00+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.784" endtime="20200817 19:03:24.785"></status>
</kw>
<kw name="Get Current Date" library="DateTime">
<doc>Returns current local or UTC time with an optional increment.</doc>
<arguments>
<arg>time_zone=UTC</arg>
<arg>result_format=%Y-%m-%dT%H:%M:%S+00:00</arg>
</arguments>
<assign>
<var>${now}</var>
</assign>
<msg timestamp="20200817 19:03:24.785" level="INFO">${now} = 2020-08-17T16:03:24+00:00</msg>
<status status="PASS" starttime="20200817 19:03:24.785" endtime="20200817 19:03:24.785"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>timestamp</arg>
<arg>${now}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.785" endtime="20200817 19:03:24.785"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body}</arg>
<arg>&amp;{kwargs}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.785" endtime="20200817 19:03:24.785"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${json_string}</var>
</assign>
<msg timestamp="20200817 19:03:24.786" level="INFO">${json_string} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.785" endtime="20200817 19:03:24.786"></status>
</kw>
<msg timestamp="20200817 19:03:24.786" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-08T13:00Z/2020-06-09T22:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.784" endtime="20200817 19:03:24.786"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.loads('''${body}''')</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.786" level="INFO">${body} = {'timestamp': '2020-08-17T16:03:24+00:00', 'productCode': 'entsoe-electricity-price-product-code', 'parameters': {'period': '2020-06-08T13:00Z/2020-06-09T22:00Z', 'targetObject': '10YFI-1--------U'}}</msg>
<status status="PASS" starttime="20200817 19:03:24.786" endtime="20200817 19:03:24.786"></status>
</kw>
<kw name="Set To Dictionary" library="Collections">
<doc>Adds the given ``key_value_pairs`` and ``items`` to the ``dictionary``.</doc>
<arguments>
<arg>${body["parameters"]}</arg>
<arg>period=${PERIOD_SWAP}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.786" endtime="20200817 19:03:24.787"></status>
</kw>
<kw name="Evaluate" library="BuiltIn">
<doc>Evaluates the given expression in Python and returns the results.</doc>
<arguments>
<arg>json.dumps(${body})</arg>
<arg>json</arg>
</arguments>
<assign>
<var>${body}</var>
</assign>
<msg timestamp="20200817 19:03:24.787" level="INFO">${body} = {"timestamp": "2020-08-17T16:03:24+00:00", "productCode": "entsoe-electricity-price-product-code", "parameters": {"period": "2020-06-09T22:00Z/2020-06-08T13:00Z", "targetObject": "10YFI-1--------U"}}</msg>
<status status="PASS" starttime="20200817 19:03:24.787" endtime="20200817 19:03:24.787"></status>
</kw>
<kw name="Fetch Data Product">
<arguments>
<arg>${body}</arg>
</arguments>
<kw name="Calculate Pot Signature" library="PoTLib">
<arguments>
<arg>${body}</arg>
<arg>${CLIENT_SECRET}</arg>
</arguments>
<assign>
<var>${signature}</var>
</assign>
<msg timestamp="20200817 19:03:24.788" level="INFO">4YxRRpvMW0KL32MHw74O6/JZFzB/D1f8lsw9cTiG7QE=</msg>
<msg timestamp="20200817 19:03:24.788" level="INFO">${signature} = 4YxRRpvMW0KL32MHw74O6/JZFzB/D1f8lsw9cTiG7QE=</msg>
<status status="PASS" starttime="20200817 19:03:24.788" endtime="20200817 19:03:24.788"></status>
</kw>
<kw name="Set Headers" library="REST">
<tags>
<tag>settings</tag>
</tags>
<doc>*Sets new request headers or updates the existing.*</doc>
<arguments>
<arg>{"x-pot-signature": "${signature}", "x-app-token": "${APP_TOKEN}"}</arg>
</arguments>
<status status="PASS" starttime="20200817 19:03:24.788" endtime="20200817 19:03:24.788"></status>
</kw>
<kw name="Post" library="REST">
<tags>
<tag>http</tag>
</tags>
<doc>*Sends a POST request to the endpoint.*</doc>
<arguments>
<arg>/translator/v1/fetch</arg>
<arg>${body}</arg>
</arguments>
<msg timestamp="20200817 19:03:24.795" level="FAIL">KeyError: 'content-type'</msg>
<status status="FAIL" starttime="20200817 19:03:24.788" endtime="20200817 19:03:24.795"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.787" endtime="20200817 19:03:24.795"></status>
</kw>
<status status="FAIL" starttime="20200817 19:03:24.784" endtime="20200817 19:03:24.795" critical="yes">KeyError: 'content-type'</status>
</test>
<status status="FAIL" starttime="20200817 19:03:24.096" endtime="20200817 19:03:24.796"></status>
</suite>
<statistics>
<total>
<stat pass="0" fail="5">Critical Tests</stat>
<stat pass="0" fail="5">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat pass="0" fail="5" id="s1" name="Connector Tests">Connector Tests</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
